{% load custom_tags %}

{% draw_menu id as menu_items %}

<html>
<head>
    <title>Древовидное меню</title>
</head>
<body>
    <ul>
        {% for node in menu_items reversed %}
        <li>
            <a href="{% if node.node_id is not None %}{% url 'show_page' node.node_id %}{% endif %}">
                {{ node.display_name }} id: {{ node.node_id }}
            </a>
            {% if node.children %}
            <ul>
                {% for child in node.children %}
                <li>
                    <a href="{% url 'show_page' child.id %}">
                        {{ child.display_name }} id: {{ child.id }}
                    </a>
                </li>
                {% endfor %}
            </ul>
            {% endif %}
        </li>
        {% endfor %}
    </ul>
</body>
</html>
